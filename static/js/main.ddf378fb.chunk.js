(this["webpackJsonpnew-reddit"]=this["webpackJsonpnew-reddit"]||[]).push([[0],{57:function(e,n,t){e.exports=t(77)},62:function(e,n,t){},77:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),o=t(28),c=t.n(o),i=(t(62),t(11)),l=t(22),u=t(6),s=t(20),d=t(2),m=t(3),p=t(4),b=t(23),f=t(10),h=t(14),g=t(46),v=t(55);function E(){var e=Object(m.a)(["\n    display: flex;\n\n    & > div {\n        flex-grow: 1;\n    }\n\n    & > a {\n        flex-grow: 1;\n    }\n\n    & > a.selected, & > button.selected {\n        background-color: gray;\n    }\n\n    & > label {\n        border-left: 1px solid gray;\n    }\n\n    & > *:last-child {\n        border-left: 1px solid gray;\n    }\n\n    & > *:first-child {\n        border-left: none;\n    }\n\n    & .handle {\n        width: 40px;\n        min-width: 40px;\n        height: 31px;\n        border-top: 1px solid gray;\n        border-right: 1px solid gray;\n    }\n\n    & .handle:hover {\n        cursor: pointer;\n    }\n"]);return E=function(){return e},e}var O=p.a.div(E());function S(){var e=Object(m.a)(["\n    text-align: center;\n    position: relative;\n\n    & *:focus {\n        outline: none;\n    }\n\n    & * {\n        color: white;\n    }\n\n    & a, & label {\n        width: 100%;\n        display: block;\n        padding: 5px;\n        min-height: 29px;\n        border-top: 1px solid gray;\n        overflow: hidden;\n    }\n\n    & a:hover {\n        background-color: gray;\n    }\n\n    & a.active, & > a.selected {\n        background-color: gray;\n    }\n\n    & > a:last-of-type, & > button:last-of-type {\n        border-bottom: 1px solid gray;\n    }\n\n    & > div:last-child > * {\n        border-bottom: 1px solid gray;\n    }\n\n    & > div + h3 {\n        margin-top: 0px;\n        padding-top: 1em;\n        border-top: 1px solid gray;\n    }\n\n    @media screen and (max-device-width: 600px){\n        & div:last-child > * {\n            border-bottom: none;\n        }   \n\n        & a:hover {\n            background-color: black;\n        }\n    }\n"]);return S=function(){return e},e}var x=p.a.div(S());function y(){var e=Object(m.a)(['\n    cursor: text;\n    padding: 5px 10px;\n    flex-grow: 1;\n    width: 100%;\n    margin: 0px;\n    background-color: black;\n    border: none;\n    font-size: 1em;\n    text-align: center;\n    border-top: 1px solid gray;\n    border-radius: 0px;\n\n    &[type="checkbox"] {\n        -webkit-appearance:none;\n        appearance: none;\n        width:30px;\n        height:30px;\n        background:white;\n        border-radius:0px;\n        border:1px solid gray;\n        border-right: none;\n        border-left: none;\n\n        :checked {\n            background-color: green;\n        }\n\n        :hover {\n            cursor: pointer;\n        }\n    }\n']);return y=function(){return e},e}var k=p.a.input(y());function j(){var e=Object(m.a)(["\n    background-color: black;\n    border: none;\n    text-align: center;\n    padding: 5px;\n    font-size: 1em;\n    width: 100%;\n    margin: 0px;\n    border-top: 1px solid gray;\n    color: white;\n\n    ",";\n    ",";\n\n    &:hover {\n        cursor: pointer;\n        background-color: gray;\n        ",";\n    }\n\n    :focus {\n        outline: none;\n    }\n\n    @media screen and (max-device-width: 600px){\n        &:hover {\n            background-color: black;\n        } \n    }\n"]);return j=function(){return e},e}var _=p.a.button(j(),(function(e){return e.selected?"background-color: gray;":""}),(function(e){return e.disabled?"color: gray":""}),(function(e){return e.disabled?"background-color: black; cursor: default":""}));function w(){var e=Object(m.a)(["\n    border-left: 1px solid gray;\n    min-width: 60px;\n    width: auto;\n"]);return w=function(){return e},e}var C=Object(p.a)(_)(w());function T(){var e=Object(m.a)(["\n    padding: 5px;\n    font-size: 1.3em;\n    position: absolute;\n    right: 10px;\n    top: -5px;\n\n    :hover {\n        cursor: pointer;\n    }\n"]);return T=function(){return e},e}var M=p.a.div(T()),U=function(e){var n=e.sub,t=e.currentSub,r=e.currentUser,o=e.currentSort,c=e.onDeleteSub,l=e.editMode;return a.a.createElement(O,{key:"sub-"+n.id},l?a.a.createElement("div",{className:"handle"},a.a.createElement(g.a,{style:{position:"relative",top:"8px"}})):null,a.a.createElement(i.b,{to:"/".concat(n.id,"/").concat(o),className:n.display===t||n.display===r?"selected":"",style:{textTransform:"capitalize"}},n.display),l?a.a.createElement(C,{className:"subBtn",onClick:c(n.id)},a.a.createElement(f.i,null)):null)},R=function(e,n,t,r){return"subs"===r&&"user"===n||("users"===r&&"user"!==n||("user"===n?e.includes("user/".concat(t,"/overview")):0===n.length||("Popular"===n||("All"===n||("My Subreddits"===n||!!e.includes(n))))))},A=function(){var e=Object(d.c)(),n=Object(d.d)((function(e){return e.currentSub})),t=Object(d.d)((function(e){return e.currentUser})),o=Object(d.d)((function(e){return e.currentSort})),c=Object(d.d)((function(e){return e.subs})),l=function(n){return e({type:"SET_SUBS",payload:n})},s=Object(r.useState)(0===c.length),m=Object(u.a)(s,2),p=m[0],b=m[1],g=Object(r.useState)(""),E=Object(u.a)(g,2),S=E[0],y=E[1],j=function(e){return function(){var n=c.filter((function(n){return n!==e}));l(n)}},w=function(){T(c,"user"===n?"user/".concat(t,"/overview"):n)},T=function(e,n){var t=[].concat(Object(h.a)(e),[n]);l(t),y("")};"user"===n&&(o="hot");var A=c.map((function(e){return{id:e,display:e}})),N=c.filter((function(e){return!e.includes("user/")})).map((function(e){return{id:e,display:e}})),L=c.filter((function(e){return e.includes("user/")})).map((function(e){return{id:e,display:e.replace("user/","").replace("/overview","")}}));return a.a.createElement(x,null,a.a.createElement("h3",null,"General"),a.a.createElement(i.b,{to:"/My Subreddits/".concat(o),className:"My Subreddits"===n?"selected":""},"My Subreddits"),a.a.createElement(i.b,{to:"/Popular/".concat(o),className:"Popular"===n?"selected":""},"Popular"),a.a.createElement(i.b,{to:"/All/".concat(o),className:"All"===n?"selected":""},"All"),a.a.createElement("h3",null,"Subs"),a.a.createElement(M,{onClick:function(){b(!p)}},a.a.createElement(f.c,null)),p?a.a.createElement(v.a,{list:A,setList:function(e){if(0!==e.length){var n=e.map((function(e){return e.id}));l(n)}},handle:".handle"},A.map((function(e){return a.a.createElement(U,{key:"subButton-"+e.id,sub:e,currentSub:n,currentUser:t,currentSort:o,onDeleteSub:j,editMode:p})}))):N.map((function(e){return a.a.createElement(U,{key:"subButton-"+e.id,sub:e,currentSub:n,currentUser:t,currentSort:o,onDeleteSub:j,editMode:p})})),p?a.a.createElement(O,null,a.a.createElement(k,{type:"text",placeholder:"New Sub",onChange:function(e){y(e.target.value)},value:S}),a.a.createElement(C,{onClick:function(){0!==S.length&&T(c,S)}},"Add")):null,R(c,n,t,"subs")?null:a.a.createElement(_,{onClick:w},"Add Current ","user"===n?"User":"Sub"),p?null:a.a.createElement("h3",null,"Users"),p?null:L.map((function(e){return a.a.createElement(U,{key:"subButton-"+e.id,sub:e,currentSub:n,currentUser:t,currentSort:"hot",onDeleteSub:j,editMode:p})})),R(c,n,t,"users")?null:a.a.createElement(_,{onClick:w},"Add Current ","user"===n?"User":"Sub"))},N=function(){var e=Object(d.d)((function(e){return e.currentSub})),n=Object(d.d)((function(e){return e.currentSort}));return a.a.createElement(x,null,a.a.createElement("h3",null,"Sort Posts"),["hot","new","rising","controversial","top","comments"].map((function(t){return a.a.createElement(O,{key:"sort-"+t},a.a.createElement(i.b,{to:"/".concat(e,"/").concat(t),className:t===n?"selected":"",style:{textTransform:"capitalize"}},t))})))},L=function(){var e=Object(d.c)(),n=Object(d.d)((function(e){return e.currentSub})),t=Object(d.d)((function(e){return e.currentUserSort})),r=Object(d.d)((function(e){return e.currentUser})),o=function(n){return function(){e({type:"CLOSE_MENUS"})}};return a.a.createElement(x,null,a.a.createElement("h3",null,"Show"),[{display:"Overview",value:"overview"},{display:"Comments",value:"comments"},{display:"Posts",value:"submitted"}].map((function(e){return a.a.createElement(O,{key:"commentSort-"+e.value},a.a.createElement(i.b,{exact:!0,to:"/".concat(n,"/").concat(r,"/").concat(e.value),className:e.value===t?"selected":"",onClick:o(e.value)},e.display))})))},I=function(){var e=Object(d.c)(),n=Object(d.d)((function(e){return e.commentSort})),t=function(n){return function(){e({type:"CLOSE_MENUS"}),function(n){e({type:"SET_COMMENT_SORT",payload:n})}(n)}};return a.a.createElement(x,null,a.a.createElement("h3",null,"Sort Comments"),[{display:"Best",value:"confidence"},{display:"New",value:"new"},{display:"Top",value:"top"},{display:"Controversial",value:"controversial"},{display:"Q&A",value:"qa"}].map((function(e){return a.a.createElement(O,{key:"commentSort-"+e.value},a.a.createElement(_,{className:e.value===n?"selected":"",onClick:t(e.value)},e.display))})))};function B(){var e=Object(m.a)(["\n    display: inline-block;\n    font-size: 1.5em;\n    border-top: 1px solid gray;\n\n    & > svg {\n        position: relative;\n        top: 2px;\n    }\n\n    :hover {\n        cursor: pointer;\n    }\n"]);return B=function(){return e},e}var P=p.a.div(B()),D=function(e){var n=e.checked,t=e.onClick;return a.a.createElement(P,{onClick:t},n?a.a.createElement(b.a,null):a.a.createElement(b.b,null))},F=function(){var e=Object(d.c)(),n=Object(l.e)(),t=function(){return e({type:"CLOSE_MENUS"})},o=Object(d.d)((function(e){return e.currentSub})),c=Object(d.d)((function(e){return e.currentSort})),i=Object(d.d)((function(e){return e.currentSearch})),s=Object(r.useState)(i),m=Object(u.a)(s,2),p=m[0],b=m[1],f=Object(d.d)((function(e){return e.currentSearchSort})),h=Object(r.useState)(f),g=Object(u.a)(h,2),v=g[0],E=g[1],S=Object(d.d)((function(e){return e.currentSearchSub})),y=Object(r.useState)(S),j=Object(u.a)(y,2),w=j[0],T=j[1];Object(r.useEffect)((function(){b(i)}),[i]);var M=function(){t(),n.push("/".concat(o,"/").concat(c,"?search=").concat(p,"&searchSort=").concat(v,"&searchSub=").concat(w,"&searchForSubs=",!1))};return a.a.createElement(x,null,a.a.createElement("h3",null,"Search"),a.a.createElement(O,null,a.a.createElement(k,{type:"text",placeholder:"Search",onChange:function(e){return b(e.target.value)},value:decodeURI(p),onKeyPress:function(e){"Enter"===e.key&&M()}}),a.a.createElement(C,{onClick:M,disabled:"user"===o},"Search")),a.a.createElement(O,null,a.a.createElement(D,{checked:w,onClick:function(){return T(!w)}}),a.a.createElement("label",{style:{width:"100%"}},"This Sub Only")),a.a.createElement(O,null,a.a.createElement(_,{selected:"new"===v,onClick:function(){return E("new")}},"New"),a.a.createElement(_,{selected:"relevance"===v,onClick:function(){return E("relevance")}},"Relevant")),a.a.createElement(O,null,a.a.createElement(_,{onClick:function(){t(),n.push("/".concat(o,"/").concat(c,"?search=").concat(p,"&searchSort=").concat(v,"&searchSub=").concat(w,"&searchForSubs=",!0))},disabled:"user"===o},"Search Subs"),a.a.createElement(_,{onClick:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];b(""),T(!0),n.push("/".concat(o,"/").concat(c))}},"Clear Search")))},z=function(){var e=Object(d.d)((function(e){return e.saved})),n=Object(d.d)((function(e){return e.currentPostId}));return a.a.createElement(x,null,a.a.createElement("h3",null,"Saved"),e.map((function(e){return a.a.createElement(O,{key:"save-"+e.id},a.a.createElement(i.b,{to:e.url,className:e.id===n?"selected":"",style:{textTransform:"capitalize",fontSize:"0.9em"}},e.sub," - ",e.title))})))},H=t(78);function J(){var e=Object(m.a)(["\n    background-color: black;\n    color: white;\n    width: 150px;\n    border-radius: 5px;\n    padding: 5px;\n    margin: 5px;\n    display: inline-block;\n    border: 1px solid gray;\n    font-size: 1em;\n\n    ","\n\n    ","\n\n    &:hover {\n        cursor: pointer;\n        background-color: gray;\n    }\n"]);return J=function(){return e},e}var G=p.a.div(J(),(function(e){return e.small?"\n        width: auto;\n        margin: 2px;\n        padding: 1px 3px;\n    ":""}),(function(e){return e.noBorder?"border: none;":""})),q=function(e){var n=e.data,t=e.filename,r=void 0===t?"Data - ".concat(Object(H.a)(new Date,"yyyy-MM-dd"),".json"):t;return a.a.createElement(G,{onClick:function(){var e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n,null,2)),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download",r),t.click()}},"Download")};function W(){var e=Object(m.a)(["\n    display: inline-flex;\n    margin: 5px;\n    color: white;\n\n    & > input {\n        display: none;\n    }\n\n    & > #filename {\n        color: white;\n        width: 150px;\n        height: 28px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        display: inline-block;\n        padding: 5px;\n        border: 1px solid gray;\n        border-radius: 5px 0px 0px 5px;\n    }\n\n    & > #uploadButton {\n        display: inline-block;\n        height: 28px;\n        padding: 5px 10px;\n        background-color: gray;\n        border-radius: 0px 5px 5px 0px;\n    }\n\n    & > #uploadButton:hover {\n        cursor: pointer;\n        filter: brightness(75%);\n    }\n\n    & > #filename:hover {\n        cursor: pointer;\n    }\n"]);return W=function(){return e},e}var V=p.a.div(W()),Z=function(e){var n=e.onUpload,t=void 0===n?function(){}:n,o=Object(r.useState)(null),c=Object(u.a)(o,2),i=c[0],l=c[1],s=Object(r.useState)("Choose a File"),d=Object(u.a)(s,2),m=d[0],p=d[1],b=Object(r.useRef)(null),f="fileUpload-"+Math.floor(100*Math.random());return a.a.createElement(V,null,a.a.createElement("input",{type:"file",id:f,onChange:function(e){var n=e.target.files[0];if(void 0!==n)if(n.type.match("application/json")){var t=new FileReader;p(n.name),t.onload=function(e){var n=t.result,r=JSON.parse(n);l(r)},t.readAsText(n)}else l(null),p("Incorrect File Type")},ref:b}),a.a.createElement("label",{id:"filename",htmlFor:f},m),a.a.createElement("div",{id:"uploadButton",onClick:function(){i?(p("File Uploaded"),t(i),l(null),b.current.value=""):p("Choose a File")}},"Upload"))};function Q(){var e=Object(m.a)(["\n\n"]);return Q=function(){return e},e}var K=p.a.div(Q()),X=function(){var e=Object(d.c)(),n=Object(d.d)((function(e){return e.saved})),t=Object(d.d)((function(e){return e.subs})),r=function(n){var r=!0;Array.isArray(n)||(r=!1),0===n.length&&(r=!1);for(var a=0;a<n.length;a++)if("string"!==typeof n[a]){r=!1;break}if(r){var o=Object(h.a)(t);n.forEach((function(e){void 0===t.find((function(n){return n.toLowerCase()===e.toLowerCase()}))&&o.push(e)})),e({type:"SET_SUBS",payload:o}),localStorage.setItem("subs",JSON.stringify(o))}else alert("File not valid")},o=function(t){var r=!0;Array.isArray(t)||(r=!1),0===t.length&&(r=!1);for(var a=0;a<t.length;a++){var o=t[a];if("object"!==typeof o){r=!1;break}if(!o.id||!o.title||!o.sub||!o.url){r=!1;break}}if(r){var c=Object(h.a)(n);t.forEach((function(e){n.find((function(n){return n.id===e.id}))||c.push(e)})),e({type:"SET_SAVED",payload:c}),localStorage.setItem("saved",JSON.stringify(c))}else alert("File not valid")};return a.a.createElement(K,null,a.a.createElement("p",null,"Download and Upload the list of subs and saved posts."),a.a.createElement("div",{id:"group"},a.a.createElement("div",null,"Sub List"),a.a.createElement(Z,{onUpload:r}),a.a.createElement(q,{data:t,filename:"Reddit Sub List.json"})),a.a.createElement("div",{id:"group"},a.a.createElement("div",null,"Save List"),a.a.createElement(Z,{onUpload:o}),a.a.createElement(q,{data:n,filename:"Reddit Saved List.json"})),a.a.createElement("div",{id:"group"},a.a.createElement("div",null,"Both"),a.a.createElement(Z,{onUpload:function(e){void 0!==e.subs&&r(e.subs),void 0!==e.saved&&o(e.saved)}}),a.a.createElement(q,{data:{subs:t,saved:n},filename:"Reddit Backup.json"})))},$=t(13),Y=t.n($),ee=t(19),ne=t(47),te=t.n(ne),re=t(48),ae=function(e){var n=e.setQRCode;return a.a.createElement("div",null,a.a.createElement(re.a,{constraints:{facingMode:"environment"},onResult:function(e,t){e&&n(null===e||void 0===e?void 0:e.text)}}))};function oe(){var e=Object(m.a)(["\n    margin-top: 10px;\n    padding: 10px;\n    #qrcode {\n        background-color: white;\n        padding: 10px;\n    }\n"]);return oe=function(){return e},e}var ce=p.a.div(oe()),ie=function(){var e=Object(ee.a)(Y.a.mark((function e(n,t,r,a,o){var c,i,l,u,s,d=arguments;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.length>5&&void 0!==d[5]?d[5]:"merge",i=d.length>6?d[6]:void 0,l={uniqueID:n,appId:"asui248a9db37gruba92ge",type:c,syncComplete:!1,objects:[{key:"SET_SUBS",type:"strings",objects:t},{key:"SET_SAVED",type:"objects",syncKey:"id",objects:r},{key:"SET_BLOCKED_USERS",type:"strings",objects:a}]},e.prev=4,e.next=7,fetch("https://sync-server.onrender.com/api/"+o,{signal:i,method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(l)});case 7:return u=e.sent,e.next=10,u.json();case 10:return s=e.sent,e.abrupt("return",s);case 14:return e.prev=14,e.t0=e.catch(4),e.abrupt("return",{err:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(n,t,r,a,o){return e.apply(this,arguments)}}(),le=function(){var e=Object(d.c)(),n=Object(d.d)((function(e){return e.saved})),t=Object(d.d)((function(e){return e.subs})),o=Object(d.d)((function(e){return e.blockedUsers})),c=Object(r.useState)(!1),i=Object(u.a)(c,2),l=i[0],s=i[1],m=Object(r.useState)(!1),p=Object(u.a)(m,2),b=p[0],f=p[1],h=Object(r.useState)(!1),g=Object(u.a)(h,2),v=g[0],E=g[1],O=Object(r.useState)({status:"",message:""}),S=Object(u.a)(O,2),x=S[0],y=S[1],k=Object(r.useState)(new AbortController),j=Object(u.a)(k,2),_=j[0],w=j[1],C=Math.round(Number(Date.now()+""+1e4*Math.random()))+"",T=Object(r.useState)(C),M=Object(u.a)(T,2),U=M[0],R=M[1];Object(r.useEffect)((function(){var e=new AbortController,n=e.signal;return function(){var e=Object(ee.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://sync-server.onrender.com/",{signal:n});case 3:return t=e.sent,e.next=6,t.json();case 6:"Ready"===e.sent.status&&s(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()(),function(){e.abort(),_.abort()}}),[]);var A=function(e){return Object(ee.a)(Y.a.mark((function r(){var a,c;return Y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return f(!0),y({status:"",message:""}),r.next=4,ie(U,t,n,o,"send",e,_.signal);case 4:if("The user aborted a request."!==(a=r.sent).err){r.next=7;break}return r.abrupt("return");case 7:console.log(a),c=L(a),y(c),f(!1);case 11:case"end":return r.stop()}}),r)})))},N=function(){var e=Object(ee.a)(Y.a.mark((function e(r){var a,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!1),e.next=3,ie(r,t,n,o,"receive","",_.signal);case 3:a=e.sent,c=L(a),y(c);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),L=function(n){return"success"===n.status&&"string"!==typeof n.data?(n.data.forEach((function(n){e({type:n.key,payload:n.objects})})),{status:"success",message:"Sync Successful"}):"error"===n.status?{status:"error",message:n.data}:{status:n.status,message:n.data}};return!1===l?a.a.createElement(ce,null,"Waiting for Server..."):!1===b&&!1===v?a.a.createElement(ce,null,"success"===x.status?a.a.createElement("div",{style:{color:"#00FF00",marginBottom:"10px"}},x.message):a.a.createElement("div",{style:{color:"#FF0000",marginBottom:"10px"}},x.message),a.a.createElement("div",null,"Please choose the direction to sync. Note: using Up or Down will overwrite data."),a.a.createElement("br",null),a.a.createElement("div",null,"Up syncs from this device to the one scanning. "),a.a.createElement(G,{onClick:A("up")},"Up"),a.a.createElement("div",null,"Merge combines the data from both."),a.a.createElement(G,{onClick:A("merge")},"Merge"),a.a.createElement("div",null,"Down syncs from the device scanning to this one. "),a.a.createElement(G,{onClick:A("down")},"Down"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("div",null,"Or scan for the QR Code from another device."),a.a.createElement(G,{onClick:function(){y({status:"",message:""}),E(!0)}},"Scan QR Code")):b?a.a.createElement(ce,null,a.a.createElement("div",{id:"qrcode",style:{margin:"10px",marginBottom:"20px"}},a.a.createElement(te.a,{value:U,size:180})),a.a.createElement("div",null,"Scan the QR code on the device you want to sync with."),a.a.createElement("br",null),a.a.createElement("div",null,"Waiting for data."),a.a.createElement("br",null),a.a.createElement(G,{onClick:function(){f(!1),_.abort(),w(new AbortController);var e=Math.round(Number(Date.now()+""+1e4*Math.random()))+"";R(e)}},"Cancel")):v?a.a.createElement(ce,null,a.a.createElement("div",null,"Scan the QR code"),v?a.a.createElement(ae,{setQRCode:N}):null,a.a.createElement(G,{onClick:function(){y({status:"",message:""}),E(!1)}},"Cancel")):void 0};function ue(){var e=Object(m.a)(["\n    text-align: center;\n\n    & > #group {\n        margin-top: 20px;\n    }\n"]);return ue=function(){return e},e}var se=p.a.div(ue()),de=function(){var e=Object(r.useState)(""),n=Object(u.a)(e,2),t=n[0],o=n[1];return a.a.createElement(se,null,a.a.createElement("h3",null,"Settings"),a.a.createElement(G,{onClick:function(){o("Backup")}},"Backup/Restore"),a.a.createElement(G,{onClick:function(){o("Sync")}},"Sync"),"Backup"===t?a.a.createElement(X,null):null,"Sync"===t?a.a.createElement(le,null):null)},me=t(5),pe=t(26),be={currentSub:"",currentSort:"hot",currentPostId:"",currentUserSort:"overview",currentUser:"",postDetails:{},posts:[],noPosts:!1,noMorePosts:!1,latestPost:"",comments:[],extraComments:[],noComments:!1,commentSort:"new",subs:[],saved:[],blockedUsers:[],flairs:{},sortMenuOpen:!1,searchMenuOpen:!1,subMenuOpen:!1,saveMenuOpen:!1,settingsMenuOpen:!1,filterMenuOpen:!1,currentSearch:"",currentSearchSort:"relevance",currentSearchSub:!0,searchForSubs:!1,previousUrl:"",permalinkUrl:"",showContext:!1},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.payload;switch(n.type){case"SET_SUB":return Object(me.a)({},e,{currentSub:t});case"SET_SORT":return Object(me.a)({},e,{currentSort:t});case"SET_POSTID":return Object(me.a)({},e,{currentPostId:t});case"SET_USER_SORT":return Object(me.a)({},e,{currentUserSort:t});case"SET_USER":return Object(me.a)({},e,{currentUser:t});case"SET_POSTS":return Object(me.a)({},e,{posts:t});case"SET_POST_DETAILS":return Object(me.a)({},e,{postDetails:t,extraComments:[]});case"CLEAR_SEARCH":return Object(me.a)({},e,{currentSearch:"",currentSearchSort:"relevance",currentSearchSub:!0,searchMenuOpen:!1});case"OPEN_SEARCH":return Object(me.a)({},e,{searchMenuOpen:!0,settingsMenuOpen:!1,sortMenuOpen:!1,subMenuOpen:!1,saveMenuOpen:!1,filterMenuOpen:!1});case"CLOSE_SEARCH":return Object(me.a)({},e,{searchMenuOpen:!1});case"OPEN_SUBS":return Object(me.a)({},e,{subMenuOpen:!0,settingsMenuOpen:!1,sortMenuOpen:!1,searchMenuOpen:!1,saveMenuOpen:!1,filterMenuOpen:!1});case"CLOSE_SUBS":return Object(me.a)({},e,{subMenuOpen:!1});case"OPEN_SORT":return Object(me.a)({},e,{sortMenuOpen:!0,settingsMenuOpen:!1,subMenuOpen:!1,searchMenuOpen:!1,saveMenuOpen:!1,filterMenuOpen:!1});case"CLOSE_SORT":return Object(me.a)({},e,{sortMenuOpen:!1});case"OPEN_SAVED":return Object(me.a)({},e,{saveMenuOpen:!0,settingsMenuOpen:!1,sortMenuOpen:!1,subMenuOpen:!1,searchMenuOpen:!1,filterMenuOpen:!1});case"CLOSE_SAVED":return Object(me.a)({},e,{saveMenuOpen:!1});case"OPEN_SETTINGS":return Object(me.a)({},e,{settingsMenuOpen:!0,saveMenuOpen:!1,sortMenuOpen:!1,subMenuOpen:!1,searchMenuOpen:!1,filterMenuOpen:!1});case"CLOSE_SETTINGS":return Object(me.a)({},e,{settingsMenuOpen:!1});case"OPEN_FILTER":return Object(me.a)({},e,{filterMenuOpen:!0,settingsMenuOpen:!1,saveMenuOpen:!1,sortMenuOpen:!1,subMenuOpen:!1,searchMenuOpen:!1});case"CLOSE_FILTER":return Object(me.a)({},e,{filterMenuOpen:!1});case"CLOSE_MENUS":return Object(me.a)({},e,{settingsMenuOpen:!1,sortMenuOpen:!1,searchMenuOpen:!1,subMenuOpen:!1,saveMenuOpen:!1,filterMenuOpen:!1});case"SET_SUBS":return Object(me.a)({},e,{subs:t});case"SET_SAVED":return Object(me.a)({},e,{saved:t});case"SET_BLOCKED_USERS":return Object(me.a)({},e,{blockedUsers:t});case"SET_FLAIRS":return Object(me.a)({},e,{flairs:t});case"SET_CURRENT_SEARCH":return Object(me.a)({},e,{currentSearch:t});case"SET_CURRENT_SEARCH_SORT":return Object(me.a)({},e,{currentSearchSort:t});case"SET_CURRENT_SEARCH_SUB":return Object(me.a)({},e,{currentSearchSub:t});case"SET_SEARCH_FOR_SUBS":return Object(me.a)({},e,{searchForSubs:t});case"SET_NO_POSTS":return Object(me.a)({},e,{noPosts:t});case"SET_LATEST_POST":return Object(me.a)({},e,{latestPost:t});case"SET_NO_MORE_POSTS":return Object(me.a)({},e,{noMorePosts:t});case"SET_COMMENTS":return Object(me.a)({},e,{comments:t});case"SET_EXTRA_COMMENTS":return Object(me.a)({},e,{extraComments:t});case"SET_NO_COMMENTS":return Object(me.a)({},e,{noComments:t});case"SET_COMMENT_SORT":return Object(me.a)({},e,{commentSort:t});case"SET_PREVIOUS_URL":return Object(me.a)({},e,{previousUrl:t});case"SET_PERMALINK_URL":return Object(me.a)({},e,{permalinkUrl:t});case"SET_SHOW_CONTEXT":return Object(me.a)({},e,{showContext:t});default:return e}},he=Object(pe.c)(fe,function(){var e=localStorage.getItem("subs");void 0!==e&&(e=JSON.parse(e));var n=localStorage.getItem("saved");void 0!==n&&(n=JSON.parse(n));var t=localStorage.getItem("reddit-flairs");void 0!==t&&(t=JSON.parse(t));var r=localStorage.getItem("reddit-blocked-users");void 0!==r&&(r=JSON.parse(r));var a=fe();return e||(e=[]),n||(n=[]),r||(r=[]),t||(t={}),Object(me.a)({},a,{subs:e,saved:n,blockedUsers:r,flairs:t})}(),Object(pe.a)((function(e){var n=e.getState;return function(e){return function(t){var r=e(t),a=n();if("SET_SUBS"===t.type){var o=a.subs;localStorage.setItem("subs",JSON.stringify(o))}else if("SET_SAVED"===t.type){var c=a.saved;localStorage.setItem("saved",JSON.stringify(c))}else if("SET_FLAIRS"===t.type){var i=a.flairs;localStorage.setItem("reddit-flairs",JSON.stringify(i))}else if("SET_BLOCKED_USERS"===t.type){var l=a.blockedUsers;localStorage.setItem("reddit-blocked-users",JSON.stringify(l))}return r}}}))),ge=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("more"===n.kind){var r=null!==t?t.data.permalink.match(/\/r\/[a-zA-Z0-9]+\/comments\/[a-zA-Z0-9]+\/([a-zA-Z\xc0-\xff0-9_]+)\//):null,a=r?r[1]:"";return{kind:"more",id:n.data.parent_id.replace("t1_",""),body_html:"",name:"",author:"",replies:[],score:0,permalink:a}}var o=n.data,c=o.body_html,i=o.id,l=o.name,u=o.author,s=o.permalink,d=o.replies,m=o.score,p=o.created_utc,b=o.parent_id,f=o.stickied;c=Ee(c),d=(d="object"===typeof d?d.data.children:[]).map((function(t){return e(t,n)}));var h=!b.includes("t3_");return{body_html:c,id:i,name:l,author:u,permalink:s,replies:d,score:m,created_utc:p,hasContext:h,stickied:f}},ve=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=(e=(e=(e=e.replace(/<a/g,'<a target="_blank" rel="noopener noreferrer"')).replace(/target="_blank" rel="noopener noreferrer" href="\/r/g,'href="#')).replace(/target="_blank" rel="noopener noreferrer" href="\/u/g,'href="#/user')).match(/href="https:\/\/www.reddit.com\/r\/[a-zA-Z0-9]+\/comments\/[a-zA-Z0-9]+/g);if(null!==t&&t.forEach((function(n){var t=n.match(/r\/([a-zA-Z0-9]+)/)[1],r=n.match(/comments\/([a-zA-Z0-9]+)/)[1];e=e.replace('target="_blank" rel="noopener noreferrer" '.concat(n),'href="#/'.concat(t,"/comments/").concat(r))})),n){var r=e.match(/<p><a\b[^>]*>(.*?)<\/a>( ?)<\/p>/g);r&&r.forEach((function(n){var t=n.match(/href="(.[^"]+)"/);if(!(void 0===t||t.length<2)){var r=Ee(t[1]),a=n.match(/<p><a\b[^>]*>(.*?)<\/a><\/p>/),o="";a&&a.length>1&&(o=Ee(a[1]))===r&&(o="");var c=r.match(/\.jpg|\.bmp|\.jpeg|\.png|\.gif/);c&&c.length>0&&(e=e.replace(n,'<p class="bodyImage"><a target="_blank" rel="noopener noreferrer" href="'.concat(r,'"><img src="').concat(r,'"/><span>').concat(o,"</span></a></p>")))}}))}return e},Ee=function(e){return e=e?e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;#39;/g,"'").replace(/&amp;quot;/g,'"').replace(/&amp;/g,"&").replace(/&#x200B;/g," "):""},Oe=function(e){return void 0===e||null===e?"":(e=(e=e.length>0?e.replace(/:[a-zA-Z0-9_-]+:/g,""):"").trim(),e=Ee(e))},Se=function(e){return"true"===e},xe=function(e){var n="",t=localStorage.getItem("subs");return n=e+(t=(t=t?JSON.parse(t):[]).filter((function(e){return!e.includes("/")}))).join("+"),0===t.length&&(n=e+"All"),n},ye=function(){var e=Object(ee.a)(Y.a.mark((function e(){var n,t,r,a,o,c,i,l,u,s,m,p,b,f,g,v,E,O,S,x,y,k,j,_,w,C,T=arguments;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=T.length>0&&void 0!==T[0]&&T[0],t=T.length>1&&void 0!==T[1]&&T[1],r=he.getState(),a=r.posts,o=r.currentSub,c=r.currentSort,i=r.currentUser,l=r.currentUserSort,u=r.currentSearch,s=r.currentSearchSort,m=r.currentSearchSub,p=r.latestPost,b=r.searchForSubs,f=r.previousUrl,g=function(e){return he.dispatch({type:"SET_LATEST_POST",payload:e})},v=function(e){return he.dispatch({type:"SET_POSTS",payload:e})},E=function(e){return he.dispatch({type:"SET_NO_POSTS",payload:e})},O=function(e){return he.dispatch({type:"SET_NO_MORE_POSTS",payload:e})},S=function(e){return he.dispatch({type:"SET_PREVIOUS_URL",payload:e})},0!==o.length){e.next=11;break}return e.abrupt("return");case 11:if(o.length>0&&(o="r/"+o),"r/My Subreddits"===o&&(o=xe("r/")),e.prev=13,x="https://www.reddit.com/".concat(o,"/").concat(c,"/.json"),n&&(x+="?after=".concat(p)),u.length>0&&(y=u.split(" ").join("+"),x=b?"https://www.reddit.com/".concat(o,"/search.json?q=").concat(y,"&include_over_18=on&sort=relevance&type=sr"):"https://www.reddit.com/".concat(o,"/search.json?q=").concat(y).concat(m?"&restrict_sr=on":"","&include_over_18=on&sort=").concat(s),n&&(x+="&after=".concat(p))),0===o.length&&(x="https://www.reddit.com/.json"),"r/user"===o&&(x="https://www.reddit.com/user/".concat(i,"/").concat(l,".json"),n&&(x+="?after=".concat(p))),decodeURI(x)!==decodeURI(f)||!1!==t){e.next=23;break}return e.abrupt("return");case 23:k=x.replace(/\?after=[a-zA-Z0-9_]+/,""),S(k);case 25:return n||(v([]),E(!1),O(!1)),e.next=28,fetch(x);case 28:return j=e.sent,e.next=31,j.json();case 31:(_=e.sent).error?(console.log("Getting Post List - Error: ",_.error),n||Object(d.b)((function(){E(!0),v([])}))):_&&_.data&&_.data.children&&(w=_.data.children.map((function(e){var n=e.data,t=n.media;if(t=t&&t.oembed?Ee(t.oembed.html):"","t5"===e.kind)return{id:n.id,name:n.name,type:"sub",title:Ee(n.title),subName:n.display_name,description:Ee(n.description_html),created:n.created_utc,subscribers:n.subscribers};if("t1"===e.kind){var r=ge(e);return r.type="comment",r.link_title=n.link_title,r.link_id=n.link_id,r.subreddit=n.subreddit,r}return{type:"post",created:n.created_utc,author:n.author,domain:n.domain,title:Ee(n.title),id:n.id,name:n.name,body:Ee(n.selftext_html),num_comments:n.num_comments,score:n.score,subreddit:n.subreddit,stickied:n.stickied,url:n.url,thumbnail:n.thumbnail,permalink:n.permalink,media:t,media_embed:n.media_embed,spoiler:n.spoiler,link_flair_text:n.link_flair_text,link_flair_text_color:n.link_flair_text_color,link_flair_background_color:n.link_flair_background_color,crosspost_parent_list:n.crosspost_parent_list}})),C=0===w.length,n&&(w=[].concat(Object(h.a)(a),Object(h.a)(w))),Object(d.b)((function(){C||g(w[w.length-1].name),v(w),C&&O(!0),C&&!n&&E(!0)}))),e.next=39;break;case 35:e.prev=35,e.t0=e.catch(13),console.log("Getting Post List - URL Error: ",e.t0),n||Object(d.b)((function(){E(!0),v([])}));case 39:case"end":return e.stop()}}),e,null,[[13,35]])})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(ee.a)(Y.a.mark((function e(n,t){var r,a,o,c,i,l,u,s,d,m;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=he.getState(),a=r.extraComments,o=r.currentSub,c=r.currentPostId,i=function(e){return he.dispatch({type:"SET_EXTRA_COMMENTS",payload:e})},e.prev=3,e.next=6,fetch("https://www.reddit.com/r/".concat(o,"/comments/").concat(c,"/").concat(t,"/").concat(n,".json"));case 6:return l=e.sent,e.next=9,l.json();case 9:(u=e.sent).error?console.log("Getting More Comments - Error: ",u.error):(s=u[1].data.children.map((function(e){return ge(e)})),d=s[0],void 0===a.find((function(e){return e.id===d.id}))&&(m=[].concat(Object(h.a)(a),[d]),i(m))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log("Getting More Comments - URL Error: ",e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(n,t){return e.apply(this,arguments)}}(),je=function(){var e=Object(ee.a)(Y.a.mark((function e(){var n,t,r,a,o,c,i,l,u,s,m,p,b,f,h,g,v,E,O,S,x,y,k,j,_,w,C,T,M;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=he.getState(),t=n.currentSub,r=n.currentPostId,a=n.commentSort,o=n.permalinkUrl,c=n.showContext,i=function(e){return he.dispatch({type:"SET_COMMENTS",payload:e})},l=function(e){return he.dispatch({type:"SET_NO_COMMENTS",payload:e})},u=function(e){return he.dispatch({type:"SET_POST_DETAILS",payload:e})},0!==r.length){e.next=7;break}return e.abrupt("return");case 7:return i([]),l(!1),"My Subreddits"===t&&(t=xe()),s="".concat(t,"/comments/").concat(r,"/").concat(o),m=c&&o.length>0?1e4:3,e.prev=12,e.next=15,fetch("https://www.reddit.com/r/".concat(s,".json?sort=").concat(a,"&context=").concat(m));case 15:return p=e.sent,e.next=18,p.json();case 18:(b=e.sent).error?console.log("Getting Comments - Error: ",b.error):(f=b[0].data.children[0].data,h=f.title,g=f.selftext_html,v=f.id,E=f.url,O=f.media,S=f.media_embed,x=f.media_metadata,y=f.is_gallery,k=f.gallery_data,j=f.author,_=f.created_utc,w=f.permalink,C=f.spoiler,T=f.crosspost_parent_list,M=b[1].data.children.map((function(e){return ge(e)})),Object(d.b)((function(){u({id:v,url:E,title:h,author:j,created:_,body:Ee(g),media:O,media_embed:S,permalink:w,media_metadata:x,is_gallery:y,gallery_data:k,spoiler:C,crosspost_parent_list:T}),i(M),0===M.length&&l(!0)}))),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(12),console.log("Getting Comments - URL Error: ",e.t0);case 25:case"end":return e.stop()}}),e,null,[[12,22]])})));return function(){return e.apply(this,arguments)}}(),_e=function(e,n,t){var r=e.match(/\/r\/[a-zA-Z0-9]+\/comments\/[a-zA-Z0-9]+/g),a=void 0;if(r&&r.length>0){var o=r[0],c=o.match(/r\/([a-zA-Z0-9]+)/)[1],i=o.match(/comments\/([a-zA-Z0-9]+)/)[1];void 0===c||void 0===i||c===n&&i===t||(a="#/".concat(c,"/comments/").concat(i))}return a};function we(){var e=Object(m.a)(["\n    margin-right: 5px;\n    padding: 1px 3px;\n    color: ",";\n    background-color: ",";\n    ","\n    cursor: pointer;\n"]);return we=function(){return e},e}var Ce=p.a.span(we(),(function(e){return"light"===e.color?"white":"black"}),(function(e){return e.backgroundColor}),(function(e){return e.dim?"opacity: 0.4;":""}));function Te(){var e=Object(m.a)(["\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n\n    & > div#FlairHelp {\n        width: 100%;\n        text-align: center;\n    }\n\n    & > span {\n        display: inline-block;\n        margin: 2px;\n    }\n\n    @media screen and (max-width: 700px) {\n        justify-content: start;\n        padding: 5px;\n    }\n"]);return Te=function(){return e},e}var Me=p.a.div(Te()),Ue=function(){var e=Object(d.c)(),n=Object(l.e)(),t=Object(d.d)((function(e){return e.posts})),o=Object(d.d)((function(e){return e.flairs})),c=Object(d.d)((function(e){return e.currentSub})),i=Object(d.d)((function(e){return e.currentSort})),s=Object(d.d)((function(e){return e.currentSearch})),m=Object(d.d)((function(e){return e.searchForSubs})),p=Object(r.useState)({}),b=Object(u.a)(p,2),h=b[0],g=b[1],v=Object(r.useState)(!1),E=Object(u.a)(v,2),O=E[0],S=E[1];Object(r.useEffect)((function(){var n=o[c];void 0===n&&(n={});var r=!1;t.forEach((function(e){var t;if((null===(t=e.subreddit)||void 0===t?void 0:t.toLowerCase())===c.toLowerCase()){var a=e.link_flair_text;a&&0!==a.trim().length&&void 0===n[a]&&(r=!0,n[a]={link_flair_text:e.link_flair_text,link_flair_background_color:e.link_flair_background_color,link_flair_text_color:e.link_flair_text_color})}})),r&&(o[c]=n,e({type:"SET_FLAIRS",payload:o})),g(n),S(!1)}),[e,t]);var x=function(t){return function(){if(O)!function(n){var t=Object(me.a)({},h),r=t[n];r&&(r.hidden=!r.hidden,e({type:"SET_FLAIRS",payload:o}),g(t))}(t);else if(decodeURI(s)!=='flair_name:"'.concat(t,'"')){var r="new"===i?"new":"top";n.push("/".concat(c,"/").concat(i,"?search=",'flair_name:"'.concat(t,'"'),"&searchSort=").concat(r,"&searchSub=",!0,"&searchForSubs=",!1))}}};return 0===Object.values(h).length?null:m?null:a.a.createElement(Me,null,O?a.a.createElement("div",{id:"FlairHelp"},"Click a flair to hide or show it."):null,Object.values(h).map((function(e,n){var t;if(e.link_flair_text){var r=Oe(e.link_flair_text),o=e.link_flair_text_color,c=e.link_flair_background_color;return c&&0!==(null===(t=c)||void 0===t?void 0:t.length)||(c="white",o="dark"),O&&e.hidden&&(c="white",o="dark"),!O&&e.hidden?null:a.a.createElement(Ce,{key:"flair-".concat(r,"-").concat(n,"-").concat(c),dim:e.hidden,color:o,backgroundColor:c,onClick:x(e.link_flair_text)},r)}})),a.a.createElement(G,{small:!0,noBorder:!0,onClick:function(){S(!O)}},O?"Done":a.a.createElement(f.c,{style:{position:"relative",top:"2px"}})))};function Re(){var e=Object(m.a)(["\n    position: fixed;\n    width: ",";\n    background-color: black;\n    z-index: 5;\n    top: 35px;\n    border-right: 1px solid red;\n    border-bottom: 1px solid red;\n    max-height: calc(100% - 50px);\n    overflow: scroll;\n    ",";\n"]);return Re=function(){return e},e}function Ae(){var e=Object(m.a)(["\n    display: inline-block;\n    padding: 8px;\n    border-right: 1px solid gray;\n    min-width: 50px;\n    text-align: center;\n    background-color: ",";\n"]);return Ae=function(){return e},e}function Ne(){var e=Object(m.a)(["\n    border-bottom: 1px solid red;\n    position: fixed;\n    width: 100%;\n    background-color: black;\n    z-index: 6;\n\n    & > div#settingsBtn, & > div#filterBtn, & > div#searchBtn, & > div#sortBtn {\n        float: right;\n        border-right: none;\n        border-left: 1px solid gray;\n        font-size: 1.2em;\n        height: 35px;\n\n        & > svg {\n            position: relative;\n            top: 0px;\n        }\n    }\n\n    & > div#settingsBtn {\n        font-size: 1.4em;\n\n        & > svg {\n            top: -2px;\n        }\n    }\n"]);return Ne=function(){return e},e}var Le=p.a.div(Ne()),Ie=p.a.div(Ae(),(function(e){return e.selected?"gray":"none"})),Be=p.a.div(Re(),(function(e){return e.width?e.width:"250px"}),(function(e){return e.right?"right: 0px; border-left: 1px solid red; border-right: none;":""})),Pe=function(e){var n=e.onBackClick,t=Object(d.c)(),r=Object(d.d)((function(e){return e.searchMenuOpen})),o=Object(d.d)((function(e){return e.subMenuOpen})),c=Object(d.d)((function(e){return e.sortMenuOpen})),i=Object(d.d)((function(e){return e.saveMenuOpen})),l=Object(d.d)((function(e){return e.saved})),u=Object(d.d)((function(e){return e.settingsMenuOpen})),s=Object(d.d)((function(e){return e.filterMenuOpen})),m=Object(d.d)((function(e){return e.currentPostId})),p=Object(d.d)((function(e){return e.currentSub}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(Le,null,a.a.createElement(Ie,{onClick:function(){return t(o?{type:"CLOSE_SUBS"}:{type:"OPEN_SUBS"})},selected:o},"Subs"),l.length>0?a.a.createElement(Ie,{onClick:function(){return t(i?{type:"CLOSE_SAVED"}:{type:"OPEN_SAVED"})},selected:i},"Saved"):null,m.length>0?a.a.createElement(Ie,{onClick:n},"Back"):null,a.a.createElement(Ie,{id:"sortBtn",onClick:function(){return t(c?{type:"CLOSE_SORT"}:{type:"OPEN_SORT"})},selected:c},a.a.createElement(f.h,null)),a.a.createElement(Ie,{id:"searchBtn",onClick:function(){return t(r?{type:"CLOSE_SEARCH"}:{type:"OPEN_SEARCH"})},selected:r},a.a.createElement(f.g,null)),a.a.createElement(Ie,{id:"filterBtn",onClick:function(){return t(s?{type:"CLOSE_FILTER"}:{type:"OPEN_FILTER"})},selected:s},a.a.createElement(f.d,null)),a.a.createElement(Ie,{id:"settingsBtn",onClick:function(){return t(u?{type:"CLOSE_SETTINGS"}:{type:"OPEN_SETTINGS"})},selected:u},a.a.createElement(b.c,null))),i?a.a.createElement(Be,{width:"300px"},a.a.createElement(z,null)):null,o?a.a.createElement(Be,null,a.a.createElement(A,null)):null,c&&"user"===p?a.a.createElement(Be,{right:!0},a.a.createElement(L,null)):null,c&&"user"!==p&&0===m.length?a.a.createElement(Be,{right:!0},a.a.createElement(N,null)):null,c&&"user"!==p&&m.length>0?a.a.createElement(Be,{right:!0},a.a.createElement(I,null)):null,r?a.a.createElement(Be,{right:!0},a.a.createElement(F,null)):null,u?a.a.createElement(Be,{right:!0},a.a.createElement(de,null)):null,s?a.a.createElement(Be,{right:!0},a.a.createElement("h3",{style:{textAlign:"center"}},"Flair Filters"),a.a.createElement(Ue,null)):null)},De=t(49),Fe=t(79);function ze(){var e=Object(m.a)(["\n    margin-top: 10px;\n    padding-right: 5px;\n\n    & :hover {\n        cursor: pointer;\n    }\n\n    & > span:last-child {\n        word-break: break-word;\n    }\n\n    @media screen and (max-device-width: 600px){\n        font-size: 0.9em;\n    }\n"]);return ze=function(){return e},e}var He=p.a.div(ze());function Je(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: column; \n    height: 100%;\n    align-content: center;\n\n    & > div {\n        margin-top: auto;\n        margin-bottom: auto;\n    }\n"]);return Je=function(){return e},e}var Ge=p.a.div(Je());function qe(){var e=Object(m.a)(["\n    font-size: 0.9em;\n    color: gray;\n    margin-top: 5px;\n    margin-bottom: 5px;\n\n    & a {\n        color: gray;\n    }\n"]);return qe=function(){return e},e}var We=p.a.div(qe());function Ve(){var e=Object(m.a)(["\n    display: inline-flex;\n    position: relative;\n    float: right;\n    border-bottom: 1px solid ",";\n    border-left: 1px solid ",";\n    color: gray;\n    width: 32px;\n    height: 32px;\n\n    & > svg {\n        margin: auto;\n    }\n\n    &:hover {\n        cursor: pointer;\n        color: white;\n    }\n"]);return Ve=function(){return e},e}var Ze=p.a.div(Ve(),(function(e){return e.stickied?"#50ec11":"red"}),(function(e){return e.stickied?"#50ec11":"red"}));function Qe(){var e=Object(m.a)(["\n    border-bottom: 1px solid #545452;\n    margin-bottom: 5px;\n    padding: 30px;\n    background-color: #545452;\n    text-align: center;\n\n    & > span {\n        border: 1px solid white;\n        border-radius: 5px;\n        padding: 10px;\n    }\n\n    & > span:hover {\n        cursor: pointer;\n    }\n"]);return Qe=function(){return e},e}var Ke=p.a.div(Qe()),Xe=function(e){var n=e.children,t=e.spoiler,o=Object(r.useState)(!1),c=Object(u.a)(o,2),i=c[0],l=c[1];return t&&!i?a.a.createElement(Ke,null,a.a.createElement("span",{onClick:function(){l(!0)}},"Show Spoiler")):a.a.createElement("div",null,n)};function $e(){var e=Object(m.a)(["\n    background-color: red;\n    margin-right: 10px;\n    font-weight: bold;\n    padding: 2px;\n    text-transform: uppercase;\n    font-size: 0.8em;\n"]);return $e=function(){return e},e}function Ye(){var e=Object(m.a)(["\n    padding: 5px;\n    overflow: hidden;\n\n    & img {\n        max-width: 95%;\n        max-height: 900px;\n    }\n\n    p.bodyImage {\n        max-width: fit-content;\n\n        & img {\n            max-width: 100%;\n        }\n    \n        & span {\n            display: block;\n            font-size: 0.8em;\n            color: #AAA;\n            text-align: center;\n        }\n    }\n\n    & iframe {\n        max-width: 100%;\n        margin: auto;\n        display: block;\n    }\n\n    & a {\n     color: rgb(0, 225, 255);\n    }\n\n    & .embedly-card-hug {\n        background-color: white;\n        margin: 5px !important;\n    }\n\n    & .md-spoiler-text {\n        display: inline-block;\n        background-color: gray;\n        color: gray;\n        transition: 0.3s;\n    }\n\n    & .md-spoiler-text:hover {\n        background-color: transparent;\n        color: white;\n        transition: 1s;\n    }\n\n    & blockquote {\n        color: #AAA;\n        border-left: 2px solid #333;\n        padding-left: 10px;\n        margin-inline-start: 10px;\n    }\n"]);return Ye=function(){return e},e}function en(){var e=Object(m.a)(["\n    font-size: 0.9em;\n    display: inline-block;\n    margin-bottom: 10px;\n    cursor: pointer;\n\n    & > span > svg {\n        position: relative;\n        top: 2px;\n        margin-left: 2px;\n    }\n"]);return en=function(){return e},e}function nn(){var e=Object(m.a)(["\n    min-width: 70px;\n    max-width: 70px;\n    max-height: 70px;\n    overflow: hidden;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-right: 10px;\n    margin-bottom: 10px;\n    margin-top: 10px;\n\n    & > img {\n        height: 70px;\n        width: auto;\n        margin: auto;\n    }\n"]);return nn=function(){return e},e}function tn(){var e=Object(m.a)(["\n    border: 1px solid ",";\n    padding: 0px 0px 0px 10px;\n    margin: 5px auto;\n    width: 95%;\n    max-width: 1200px;\n    display: flex;\n    position: relative;\n"]);return tn=function(){return e},e}var rn=p.a.div(tn(),(function(e){return e.stickied?"#50ec11":"red"})),an=p.a.div(nn()),on=p.a.div(en()),cn=p.a.div(Ye()),ln=p.a.span($e()),un=a.a.memo((function(e){var n,t=e.post,o=e.onClickLink,c=e.currentSub,l=e.currentSort,s=e.onClickFlair,d=void 0===s?function(){}:s,m=Object(r.useState)(!1),p=Object(u.a)(m,2),b=p[0],h=p[1];if(void 0===t)return a.a.createElement("span",null);var g=Object(Fe.a)(new Date,1e3*t.created),v=!1;!0===/(.jpg|.png|.bmp|.jpeg)/.test(t.thumbnail)&&(v=!0),t.body=ve(t.body,!0),t.title=Ee(t.title);var E=a.a.createElement(cn,{dangerouslySetInnerHTML:{__html:t.body}}),O=!1;if(t.url.match(/.(jpg|png|bmp|gif|jpeg)$/)&&(E=a.a.createElement(cn,null,a.a.createElement("img",{src:t.url,alt:"Preview user linked to"})),O=!0),t.media.length>0){t.body.length>0&&(t.media+="<br/>"+t.body);var S=ve(t.media);E=a.a.createElement(cn,{dangerouslySetInnerHTML:{__html:S}}),O=!0}if(t.url.includes("v.redd.it")){var x="https://www.reddit.com".concat(t.permalink,"?ref=share&ref_source=embed");E=a.a.createElement(cn,null,a.a.createElement("blockquote",{className:"reddit-card"},a.a.createElement("a",{href:x,target:"_blank",rel:"noopener noreferrer"},t.title))),O=!0}var y=!0;0===t.body.length&&!1===O&&(y=!1);var k=!!t.stickied,j=Oe(t.link_flair_text),_=t.link_flair_text_color,w=t.link_flair_background_color;return w&&0!==(null===(n=w)||void 0===n?void 0:n.length)||(w="white",_="black"),a.a.createElement(rn,{stickied:k},v?a.a.createElement(an,null,a.a.createElement("img",{src:t.thumbnail,alt:"Thumbnail"})):null,a.a.createElement("div",{style:v?{width:"100%",maxWidth:"calc(100% - 80px)"}:{width:"100%",maxWidth:"100%"}},y?a.a.createElement(Ze,{onClick:function(){h(!b)},stickied:k},b?a.a.createElement(f.b,null):a.a.createElement(f.a,null)):null,a.a.createElement(Ge,null,a.a.createElement("div",null,a.a.createElement(He,null,j.length>0?a.a.createElement(Ce,{color:_,backgroundColor:w,onClick:d(t.link_flair_text)},j):null,a.a.createElement("span",{onClick:o("/".concat(c,"/comments/").concat(t.id))},t.title)),a.a.createElement(We,null,a.a.createElement(i.b,{to:"/".concat(t.subreddit,"/").concat(l)},t.subreddit),t.url.includes("v.redd.it")?a.a.createElement("span",null," - video"):a.a.createElement("span",null," - ",a.a.createElement("a",{href:t.url,target:"_blank",rel:"noreferrer noopener"},t.domain))," - ",a.a.createElement("span",null,g)),b?a.a.createElement(Xe,{spoiler:t.spoiler},E):null,a.a.createElement("div",null,t.spoiler?a.a.createElement(ln,null,"Spoiler"):null,a.a.createElement(on,null,a.a.createElement("span",{onClick:o("/".concat(c,"/comments/").concat(t.id))},t.num_comments," ",a.a.createElement(f.f,null))),a.a.createElement("span",{style:{marginLeft:"15px"}},a.a.createElement("a",{href:"https://www.reddit.com".concat(t.permalink),target:"_blank",rel:"noreferrer noopener"},"Open on Reddit")))))))}),(function(e,n){return e.post.id===n.post.id}));function sn(){var e=Object(m.a)(["\n    width: 45px;\n    height: 45px;\n    margin: 5px 5px 5px -5px;\n    border: 1px solid ",";\n    display: flex;\n    align-items: center;\n\n    & > svg {\n        font-size: 1.5em;\n        margin: auto;\n    }\n\n    :hover {\n        cursor: pointer;\n        background-color: gray;\n    }\n"]);return sn=function(){return e},e}function dn(){var e=Object(m.a)(["\n    border: 1px solid ",";\n    padding: 0px 0px 0px 10px;\n    margin: 5px auto;\n    width: 95%;\n    max-width: 1200px;\n    display: flex;\n    position: relative;\n"]);return dn=function(){return e},e}var mn=p.a.div(dn(),(function(e){return e.stickied?"#50ec11":"red"})),pn=p.a.div(sn(),(function(e){return e.stickied?"#50ec11":"red"})),bn=a.a.memo((function(e){var n=e.sub,t=e.currentSort,o=Object(d.c)(),c=Object(r.useState)(!1),l=Object(u.a)(c,2),s=l[0],m=l[1],p=Object(d.d)((function(e){return e.subs}));if(void 0===n)return a.a.createElement("span",null);var b=Object(Fe.a)(new Date,1e3*n.created),g=ve(n.description),v=!0;0===g.length&&(v=!1);var E=p.reduce((function(e,t){return t.toLowerCase()===n.subName.toLowerCase()&&e++,e}),0);return a.a.createElement(mn,{stickied:E},E?null:a.a.createElement(pn,{onClick:function(){var e=[].concat(Object(h.a)(p),[n.subName]);o({type:"SET_SUBS",payload:e})},stickied:E},a.a.createElement(f.e,null)),a.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},v?a.a.createElement(Ze,{onClick:function(){m(!s)},stickied:E},s?a.a.createElement(f.b,null):a.a.createElement(f.a,null)):null,a.a.createElement(Ge,null,a.a.createElement("div",null,a.a.createElement(He,null,a.a.createElement(i.b,{to:"/".concat(n.subName,"/").concat(t)},n.title)),a.a.createElement(We,null,a.a.createElement("span",null,n.subName)," - ",a.a.createElement("span",null,n.subscribers>0?n.subscribers:0," ",1!==n.subscribers?"members":"member")," - ",a.a.createElement("span",null,b)),s?a.a.createElement("span",{dangerouslySetInnerHTML:{__html:g}}):null))))}),(function(e,n){return e.sub.id===n.sub.id}));function fn(){var e=Object(m.a)(["\n    margin-top: 10px;\n\n    & > div {\n        margin-bottom: 5px;\n    }\n"]);return fn=function(){return e},e}var hn=p.a.div(fn()),gn=function(e){var n=e.comments,t=e.author;return 0===n.length?null:a.a.createElement(hn,{id:"commentList"},n.map((function(e){return a.a.createElement(Cn,{key:e.id,comment:e,author:t})})))};function vn(){var e=Object(m.a)(["\n    margin-bottom: 10px;\n\n    :hover {\n        cursor: pointer;\n    }\n"]);return vn=function(){return e},e}function En(){var e=Object(m.a)(["\n    font-size: 0.8em;\n    margin-bottom: 5px;\n    color: gray;\n\n    & > span:hover, & > div:hover {\n        cursor: pointer;\n    }\n\n    & > div {\n        margin-top: 10px;\n        font-size: 1.2em;\n        display: inline-block;\n    }\n    \n    & > a {\n        color: gray;\n    }\n"]);return En=function(){return e},e}function On(){var e=Object(m.a)(["\n    color: white !important;\n\n    ",";\n"]);return On=function(){return e},e}function Sn(){var e=Object(m.a)(["\n    :hover {\n        cursor: pointer;\n    }\n"]);return Sn=function(){return e},e}function xn(){var e=Object(m.a)(["\n    padding: 5px;\n    padding-bottom: 0px;\n    border-left: 1px solid ",";\n    border-top: 1px solid ",";\n    margin-bottom: 0px;\n    transition: border-left 0.5s;\n\n    ","\n\n    & a {\n        color: rgb(0, 225, 255);\n    }\n\n    & pre {\n        overflow: scroll;\n    }\n\n    :hover {\n        border-left: 1px solid #fcc203;\n    }\n\n    & .md-spoiler-text {\n        display: inline-block;\n        background-color: gray;\n        color: gray;\n        transition: 0.3s;\n    }\n\n    & .md-spoiler-text:hover {\n        background-color: transparent;\n        color: white;\n        transition: 1s;\n    }\n\n    & blockquote {\n        color: #AAA;\n        border-left: 2px solid #333;\n        padding-left: 10px;\n        margin-inline-start: 10px;\n    }\n"]);return xn=function(){return e},e}var yn=p.a.div(xn(),(function(e){return e.stickied?"#50ec11":"red"}),(function(e){return e.stickied?"#50ec11":"red"}),(function(e){if(e.single)return"\n                border: 1px solid red;\n                width: 95%;\n                max-width: 1200px;\n                margin: 5px auto;\n            "})),kn=p.a.span(Sn()),jn=p.a.a(On(),(function(e){return e.original?"\n        color: #059afe !important; \n        font-weight: bold;\n    ":""})),_n=p.a.div(En()),wn=p.a.div(vn()),Cn=function(e){var n=e.comment,t=e.author,o=e.single,c=void 0!==o&&o,i=e.onClickLink,l=Object(r.useState)(!1),s=Object(u.a)(l,2),m=s[0],p=s[1],b=Object(r.useState)(!1),f=Object(u.a)(b,2),h=f[0],g=f[1],v=Object(d.d)((function(e){return e.extraComments})),E=Object(d.d)((function(e){return e.permalinkUrl})),O=Object(d.d)((function(e){return e.currentSub})),S=Object(d.d)((function(e){return e.blockedUsers}));Object(r.useEffect)((function(){S.includes(n.author)&&"user"!==O&&(p(!0),g(!0))}),[]);var x=E.split("/")[1]===n.id,y=v.find((function(e){return e.id===n.id&&"more"!==n.kind})),k="";(y=void 0!==y?y.replies:[]).length>0?k=a.a.createElement(gn,{comments:y,author:t}):n.replies.length>0&&(k=a.a.createElement(gn,{comments:n.replies,author:t}));var j=ve(n.body_html),_=void 0!==n.created_utc?Object(Fe.a)(new Date,1e3*n.created_utc):"",w=1===n.score||-1===n.score?"point":"points";return"more"===n.kind&&0===n.permalink.length?null:a.a.createElement(yn,{single:c,stickied:n.stickied},c?a.a.createElement(wn,{onClick:i("/".concat(n.subreddit,"/comments/").concat(n.link_id.replace("t3_","")))},Ee(n.link_title),a.a.createElement("span",{style:{color:"gray"}}," | ",n.subreddit)," "):null,c?null:a.a.createElement(kn,{onClick:function(){p(!m)}},m?"[ + ] ":"[ - ] "),c?null:a.a.createElement(jn,{original:n.author===t,href:"#/user/".concat(n.author)},h&&m?"Blocked Author":n.author),"more"===n.kind?null:a.a.createElement("span",{style:{color:"gray"}}," ",c?"":"|"," ",c&&"user"!==O?n.author+" | ":""," ",n.score," ",w,_.length>0?" | ".concat(_):""),m?null:a.a.createElement("div",{dangerouslySetInnerHTML:{__html:j},style:x?{backgroundColor:"rgba(150,150,0,0.3)"}:{}}),m?null:a.a.createElement(_n,null,"more"!==n.kind?a.a.createElement("a",{href:"https://www.reddit.com/".concat(n.permalink),target:"_blank",rel:"noreferrer noopener"},"Permalink"):null,c?a.a.createElement("span",{onClick:i(n.permalink.replace("r/",""))}," | Go to comment"):null,"more"===n.kind?a.a.createElement("div",{onClick:function(){ke(n.id,n.permalink)}},"Load More"):null),m?null:k)};function Tn(){var e=Object(m.a)(["\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    border: 3px solid red;\n    border-top: 0px;\n    border-bottom: 0px;\n    margin: auto;\n    margin-top:40px;\n    position: relative;\n    animation-name: rotate;\n    animation-duration: 1s;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n\n    &:after {\n        content:'';\n        display: block;\n        position: absolute;\n        top: 2px;\n        left: 2px;\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n        border: 3px solid red;\n        border-left: 0px;\n        border-right: 0px;\n        margin: auto;\n        animation-name: rotate;\n        animation-duration: 0.5s;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n        animation-direction: reverse;\n    }\n\n    &:before {\n        content:'';\n        display: block;\n        position: absolute;\n        top: 10px;\n        left: 4px;\n        width: 30px;\n        height: 30px;\n        border-radius: 50%;\n        border: 3px solid red;\n        border-top: 0px;\n        border-bottom: 0px;\n        margin: auto;\n        animation-name: rotate;\n        animation-duration: 1s;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n    }\n\n    @keyframes rotate {\n        from {\n            transform: rotate(0deg);\n        }\n        \n        to {\n            transform: rotate(360deg);\n        }\n    }\n"]);return Tn=function(){return e},e}var Mn=p.a.div(Tn()),Un=function(e){var n=e.onClickLink,t=Object(l.e)(),r=Object(d.d)((function(e){return e.posts})),o=Object(d.d)((function(e){return e.noPosts})),c=Object(d.d)((function(e){return e.currentSub})),i=Object(d.d)((function(e){return e.currentSort})),u=Object(d.d)((function(e){return e.currentPostId})),s=Object(d.d)((function(e){return e.currentSearch})),m=Object(d.d)((function(e){return e.noMorePosts}));if(o)return a.a.createElement("div",{style:{textAlign:"center"}},"No Posts Found");if(0===r.length&&0===u.length)return a.a.createElement("div",null,a.a.createElement(Mn,null));var p=u.length>0,b=p?"absolute":"relative",f=p?"-1000000px":"0px",h=p?"-20000px":"0px",g=!p&&!m,v=function(e){return function(){if(decodeURI(s)!=='flair_name:"'.concat(e,'"')){var n="new"===i?"new":"top";t.push("/".concat(c,"/").concat(i,"?search=",'flair_name:"'.concat(e,'"'),"&searchSort=").concat(n,"&searchSub=",!0,"&searchForSubs=",!1))}}};return a.a.createElement("div",{style:{margin:"auto",position:b,top:f,right:h,marginBottom:"20px"}},a.a.createElement(De.a,{dataLength:r.length,next:function(){return ye(!0)},hasMore:g,loader:a.a.createElement("div",{style:{textAlign:"center",margin:"10px"}},"Loading More..."),scrollableTarget:"#mainPage",scrollThreshold:"500px"},r.map((function(e){return"comment"===e.type?a.a.createElement(Cn,{key:e.id,comment:e,author:"",single:!0,onClickLink:n}):"sub"===e.type?a.a.createElement(bn,{key:e.id,sub:e,currentSort:i}):"user"===c?a.a.createElement(un,{key:e.id,post:e,currentSub:e.subreddit,currentSort:"hot",onClickLink:n,onClickFlair:v}):a.a.createElement(un,{key:e.id,post:e,currentSub:c,currentSort:i,onClickLink:n,onClickFlair:v})})),m?a.a.createElement("div",{style:{textAlign:"center",margin:"10px"}},"No More Posts"):null))};function Rn(){var e=Object(m.a)(["\n    & > div#mainImageOuter {\n        position: relative;\n    }\n\n    & > div#caption {\n        text-align: center;\n        font-size: 0.9em;\n        margin-bottom: 5px;\n    }\n\n    & > div#thumbnails {\n        display: flex;\n        max-width: 100%;\n        justify-content: center;\n        align-items: center;\n        flex-flow: wrap;\n    }\n\n    & > div#thumbnails > img {\n        margin: 5px;\n        user-select: none;\n    }\n\n    & > div#thumbnails > img:hover {\n        cursor: pointer;\n    }\n\n    & > div#thumbnails > img.selected {\n        border: 1px solid red;\n    }\n\n    & #galleryInner {\n        padding-top: 50%;\n    }\n    \n    & #galleryImgDiv {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        text-align: center;\n        display: flex;\n        justify-content: center;\n    }\n\n    & #galleryImgDiv a {\n        align-self: center;\n        width: calc(100% - 100px);\n        height: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    \n    & #galleryImgDiv img {\n        max-width: 100%;\n        max-height: 100%;\n        user-select: none;\n    }\n\n    & #galleryBack, & #galleryForward {\n        position: absolute;\n        top: 50%;\n        z-index: 3;\n        border-radius: 50%;\n        width: 50px;\n        height: 50px;\n        background-color: black;\n        opacity: 0.6;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 2em;\n    }\n\n    & #galleryBack:hover, & #galleryForward:hover {\n        cursor: pointer;\n        background-color: gray;\n    }\n\n    & #galleryBack {\n        transform: translate(0,-50%) rotate(90deg);\n        left: -15px;\n    }\n\n    & #galleryForward {\n        transform: translate(0,-50%) rotate(-90deg);\n        right: -15px;\n    }\n\n    & #galleryBack > svg, & #galleryForward > svg {\n        position: relative;\n        top: 2px;\n    }\n\n    @media screen and (max-width: 700px) {\n        & #galleryBack:hover, & #galleryForward:hover {\n            background-color: black;\n        }\n    }\n"]);return Rn=function(){return e},e}var An=p.a.div(Rn()),Nn=function(e,n){for(var t=6;t>0;){if(void 0!==e[n])return Ee(e[n].u);n--,t--}},Ln=function(e){var n=e.data,t=e.extraData,o=t&&t.items.length>0?t.items[0].media_id:"",c=Object(r.useState)(o),i=Object(u.a)(c,2),l=i[0],d=i[1],m=Object(s.useMediaQuery)({maxWidth:700}),p=Object(s.useMediaQuery)({maxWidth:960}),b=Object(s.useMediaQuery)({maxWidth:2560}),h=t.items?t.items.length:0,g=Object(r.useState)(!0),v=Object(u.a)(g,2),E=v[0],O=v[1];if(!n)return a.a.createElement("p",null,"Post has been removed");var S={};t.items.forEach((function(e){return S[e.media_id]=n[e.media_id]}));var x=Object.keys(S).indexOf(l),y="";b&&(y=Nn(n[l].p,5)),p&&(y=Nn(n[l].p,4)),m&&(y=Nn(n[l].p,3));var k=Ee(n[l].s.u),j="".concat(x+1,"/").concat(h),_=t.items.find((function(e){return e.media_id===l}));void 0!==_&&void 0!==_.caption&&(j+=" - Caption: "+_.caption);var w=function(e){return function(){d(e),O(!0)}};return a.a.createElement(An,null,j.length>0?a.a.createElement("div",{id:"caption"},j):null,a.a.createElement("div",{id:"mainImageOuter"},a.a.createElement("div",{id:"galleryInner"},a.a.createElement("div",{onClick:function(){var e=Object.keys(S),n=e.indexOf(l)-1;n<0&&(n=e.length-1);var t=e[n];d(t),O(!0)},id:"galleryBack"},a.a.createElement(f.a,null)),a.a.createElement("div",{onClick:function(){var e=Object.keys(S),n=e.indexOf(l)+1;n>=e.length&&(n=0);var t=e[n];d(t),O(!0)},id:"galleryForward"},a.a.createElement(f.a,null)),E?a.a.createElement(Mn,{style:{position:"absolute",left:"calc(50% - 25px)",top:"calc(50% - 50px)",zIndex:"0"}}):null,a.a.createElement("div",{id:"galleryImgDiv"},a.a.createElement("a",{key:l,href:k,target:"_blank",rel:"noopener noreferrer"},a.a.createElement("img",{src:y,alt:"Gallery Main",onLoad:function(){O(!1)}}))))),a.a.createElement("div",{id:"thumbnails"},m?null:t.items.map((function(e,t){var r=n[e.media_id];return a.a.createElement("img",{key:e.id,src:Ee(r.p[0].u),onClick:w(e.media_id),alt:"Thumbnail",className:l===e.media_id?"selected":""})}))))},In=t(50),Bn=t(51),Pn=t(53),Dn=t(52),Fn=t(54);function zn(){var e=Object(m.a)(["\n    margin: 10px;\n    text-align: center;\n\n    h2 {\n        margin-top: 20px;\n    }\n\n    button {\n        border: 1px solid red;\n        background-color: black;\n        color: white;\n        font-size: 1.5em;\n        margin-top: 20px;\n    }\n"]);return zn=function(){return e},e}var Hn=p.a.div(zn()),Jn=function(e){function n(e){var t;return Object(In.a)(this,n),(t=Object(Pn.a)(this,Object(Dn.a)(n).call(this,e))).resetError=function(){t.setState({hasError:!1}),t.props.history.push("/")},t.state={hasError:!1,error:""},t}return Object(Fn.a)(n,e),Object(Bn.a)(n,[{key:"componentDidCatch",value:function(e,n){this.setState({error:e.message})}},{key:"render",value:function(){return this.state.hasError?a.a.createElement(Hn,null,void 0!==this.props.history?a.a.createElement("h2",null,"Sorry, something went wrong."):a.a.createElement("h2",null,"This Component Could Not Be Loaded"),a.a.createElement("div",null,"Error Message: ",this.state.error),void 0!==this.props.history?a.a.createElement("button",{onClick:this.resetError},"Reset"):null):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.a.Component);function Gn(){var e=Object(m.a)(["\n    border: 1px solid gray;\n    border-radius: 5px;\n    margin: 5px;\n    margin-top: 10px;\n    padding: 10px;\n\n    & > div:first-child {\n        border-bottom: 1px solid gray;\n        padding: 5px;\n\n        & > a {\n            display: block;\n            color: white;\n            font-weight: bold;\n        }\n\n        & > div {\n            margin-top: 5px;\n            color: gray;\n            text-align: left;\n            margin-bottom: 5px;\n\n            & a {\n                color: gray;\n            }\n        }\n    }\n\n    & > div:last-child {\n        border-bottom: none;\n        padding-bottom: 0px;\n    }\n\n    @media screen and (max-width: 700px) {\n        margin: 0px;\n    }\n"]);return Gn=function(){return e},e}var qn=p.a.div(Gn()),Wn=function(e){var n=e.data,t=Object(d.d)((function(e){return e.currentSub})),r=Object(d.d)((function(e){return e.currentPostId})),o=n.title,c=n.selftext_html,i=n.url,l=n.media,u=n.media_embed,s=n.media_metadata,m=n.is_gallery,p=n.gallery_data,b=n.author,f=n.created_utc,h=n.permalink,g=n.num_comments,v=Ee(c),E=rt(v,i,l,u,h,o,t,s,m,p),O=_e(h,t,r),S=Object(Fe.a)(new Date,1e3*f);return a.a.createElement(qn,null,a.a.createElement("div",null,a.a.createElement("a",{href:O},o),a.a.createElement("div",null,a.a.createElement("a",{href:"#/user/".concat(b)},b)," - ",g," comments - ",S)),E)};function Vn(){var e=Object(m.a)(["\n    :hover {\n        cursor: pointer;\n    }\n"]);return Vn=function(){return e},e}function Zn(){var e=Object(m.a)(["\n    position: fixed;\n    bottom: 10px;\n    right: 10px;\n    width: 50px;\n    height: 50px;\n    border: 1px solid red;\n    background-color: black;\n    border-radius: 50%;\n    text-align: center;\n\n    & > svg {\n        position: relative;\n        top: 10px;\n        font-size: 2em;\n    }\n\n    :hover {\n        cursor: pointer;\n        background-color: gray;\n    }\n\n    @media screen and (max-width: 700px) {\n        :hover {\n            background-color: black;\n        }\n    }\n"]);return Zn=function(){return e},e}function Qn(){var e=Object(m.a)(["\n    border-bottom: 1px solid gray;\n    margin-bottom: 5px;\n    padding-bottom: 10px;\n\n    & pre {\n        overflow: scroll;\n    }\n\n    & > img {\n        max-width: 100%;\n        margin-top: 10px;\n    }\n\n    p.bodyImage {\n        max-width: fit-content;\n\n        & img {\n            max-width: 100%;\n        }\n    \n        & span {\n            display: block;\n            font-size: 0.8em;\n            color: #AAA;\n            text-align: center;\n        }\n    }\n\n    \n    & iframe {\n        max-width: 100%;\n        margin: auto;\n        display: block;\n    }\n\n    & a {\n     color: rgb(0, 225, 255);\n    }\n\n    & h1 {\n        font-size: 1.2em;\n    }\n\n    & h2 {\n        font-size: 1.1em;\n    }\n\n    & h3 {\n        font-size: 1em;\n    }\n\n    & .embedly-card-hug {\n        background-color: white;\n        margin: 5px !important;\n    }\n\n    & .md-spoiler-text {\n        display: inline-block;\n        background-color: gray;\n        color: gray;\n        transition: 0.3s;\n    }\n\n    & .md-spoiler-text:hover {\n        background-color: transparent;\n        color: white;\n        transition: 1s;\n    }\n\n    & blockquote {\n        color: #AAA;\n        border-left: 2px solid #333;\n        padding-left: 10px;\n        margin-inline-start: 10px;\n    }\n"]);return Qn=function(){return e},e}function Kn(){var e=Object(m.a)(["\n    color: gray;\n    text-align: left;\n    margin-bottom: 5px;\n\n    & a {\n        color: gray;\n    }\n"]);return Kn=function(){return e},e}function Xn(){var e=Object(m.a)(["\n    background-color: black;\n    padding: 20px;\n    width: 100%;\n    max-width: 1200px;\n    margin: auto;\n    margin-bottom: 30px;\n\n    & h1 {\n        text-align: left;\n        margin-bottom: 10px;\n    }\n\n    & > div > h2 {\n        word-break: break-word;\n    }\n"]);return Xn=function(){return e},e}var $n=p.a.div(Xn()),Yn=p.a.div(Kn()),et=p.a.div(Qn()),nt=p.a.div(Zn()),tt=p.a.span(Vn()),rt=function(e,n,t,r,o,c,i,l,u,s,d){if(e=ve(e,!0),void 0!==d){var m=d[0];return a.a.createElement(et,{className:"postDivBody"},a.a.createElement(Wn,{data:m}))}var p=a.a.createElement(et,{dangerouslySetInnerHTML:{__html:e},className:"postDivBody"});if(/.(png|jpg|jpeg|bmp|gif)$/.test(n)&&(p=a.a.createElement(et,null,a.a.createElement("img",{src:n,alt:"Preview of content"}))),t&&"liveupdate"===t.type){var b=Ee(r.content);return b=b.replace("iframe src",'iframe width="100%" src'),p=a.a.createElement(et,{dangerouslySetInnerHTML:{__html:b},className:"postDivBody"})}if(t&&t.oembed?(t=Ee(t.oembed.html),t=ve(t),e.length>0&&(t+="<br/>"+e),p=a.a.createElement(et,{dangerouslySetInnerHTML:{__html:t},className:"postDivBody"})):t="",u)return a.a.createElement(et,{className:"postDivBody"},a.a.createElement(Jn,null,a.a.createElement(Ln,{data:l,extraData:s})));if(n.includes("v.redd.it")){var f="https://www.reddit.com".concat(o,"?ref=share&ref_source=embed");p=a.a.createElement(et,{className:"postDivBody"},a.a.createElement("blockquote",{className:"reddit-card"},a.a.createElement("a",{href:f,target:"_blank",rel:"noopener noreferrer"},c)))}return p},at=function(){var e=Object(d.c)(),n=Object(d.d)((function(e){return e.comments})),t=Object(d.d)((function(e){return e.noComments})),o=Object(d.d)((function(e){return e.postDetails})),c=Object(d.d)((function(e){return e.currentPostId})),i=Object(d.d)((function(e){return e.commentSort})),l=Object(d.d)((function(e){return e.currentSub})),u=Object(d.d)((function(e){return e.permalinkUrl})),m=Object(d.d)((function(e){return e.showContext})),p=Object(s.useMediaQuery)({maxWidth:700}),b=Object(d.d)((function(e){return e.saved}));if(Object(r.useEffect)((function(){!function(){var e=he.getState().posts,n=he.getState().currentPostId,t=function(e){return he.dispatch({type:"SET_POST_DETAILS",payload:e})},r=void 0;n.length>0&&(r=e.find((function(e){return e.id===n}))),t(void 0===r?{}:r)}(),window.scrollTo(0,0)}),[]),Object(r.useEffect)((function(){je()}),[i,c,u,m]),void 0===o.body||o.id!==c)return a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement(Mn,null));var g=o.url,v=o.title,E=o.author,O=o.created,S=o.body,x=o.media,y=o.permalink,k=o.media_embed,j=o.media_metadata,_=o.is_gallery,w=o.gallery_data,C=o.spoiler,T=o.crosspost_parent_list,M=_e(g,l,c),U=rt(S,g,x,k,y,v,l,j,_,w,T),R=Object(Fe.a)(new Date,1e3*O),A=g||"";A.length>40&&(A=A.substr(0,40)+"...");var N=void 0!==b.find((function(e){return e.id===c})),L=a.a.createElement("a",{href:g,target:"_blank",rel:"noopener noreferrer"}," | Go to URL (",A,")");void 0!==M&&(L=a.a.createElement("a",{href:M}," | Go to Post (",A,")")),g.includes("v.redd.it")&&(L=a.a.createElement("a",{href:"https://www.reddit.com".concat(y),target:"_blank",rel:"noopener noreferrer"}," | Video"));var I=void 0!==n[0]&&n[0].hasContext;return a.a.createElement($n,null,a.a.createElement("div",null,a.a.createElement("h2",{dangerouslySetInnerHTML:{__html:v}}),a.a.createElement(Yn,null,a.a.createElement("a",{href:"#/user/".concat(E)},E)," | ",R," ",L),a.a.createElement(Yn,null,a.a.createElement("a",{href:"https://www.reddit.com".concat(y),target:"_blank",rel:"noopener noreferrer"},"Open on Reddit")," - ",a.a.createElement(tt,{onClick:function(){var n;if(N)n=b.filter((function(e){return e.id!==o.id}));else{var t="/".concat(l,"/comments/").concat(o.id);n=[].concat(Object(h.a)(b),[{id:c,title:v,url:t,sub:l}])}e({type:"SET_SAVED",payload:n})}},N?"Unsave":"Save")),a.a.createElement(Xe,{spoiler:C},U)),0===n.length&&!1===t?a.a.createElement(Mn,null):null,t?a.a.createElement("div",null,"No Comments"):null,u.length>0?a.a.createElement("a",{href:"#/".concat(l,"/comments/").concat(c)},"Show All Comments"):null,u.length>0&&I?a.a.createElement("span",null," - ",a.a.createElement("a",{href:"#/".concat(l,"/comments/").concat(c,"/").concat(u,"/?context=10000")},"Show Context")):null,a.a.createElement(gn,{comments:n,author:E}),a.a.createElement(nt,{onClick:function(){for(var e=document.querySelector("#commentList"),n=0;n<e.children.length;n++){var t=e.children[n],r=t.getBoundingClientRect();if(!(r.top<1||p&&r.top<41)){t.scrollIntoView(),p&&((document.scrollingElement||document.documentElement).scrollTop-=40);break}}}},a.a.createElement(f.a,null)))};function ot(){var e=Object(m.a)(["\n    color: gray;\n    font-size: 0.8em;\n    border: 1px solid gray;\n    border-radius: 5px;\n    padding: 2px 5px;\n    margin-left: 5px;\n\n    &:hover {\n        color: #999;\n        background-color: #222;\n        cursor: pointer;\n    }\n"]);return ot=function(){return e},e}var ct=p.a.span(ot());function it(){var e=Object(m.a)(["\n    color: gray;\n\n    :hover {\n        cursor: pointer;\n        color: white;\n    }\n"]);return it=function(){return e},e}var lt=p.a.span(it()),ut=function(e){var n=e.heading,t=e.subHeading,r=void 0===t?"":t,o=e.onReload,c=Object(l.e)(),i=Object(d.c)(),u=Object(d.d)((function(e){return e.currentSub})),s=Object(d.d)((function(e){return e.currentSort})),m=Object(d.d)((function(e){return e.currentUser})),p=Object(d.d)((function(e){return e.blockedUsers})),b=!p.includes(m)&&"user"===u,f=p.includes(m)&&"user"===u,g=function(){c.push("/".concat(u,"/").concat(s))};return a.a.createElement("div",null,a.a.createElement("h1",{style:{textAlign:"center"}},n," \xa0",a.a.createElement(lt,{onClick:o},"\u21bb")),r.length>0?a.a.createElement("h3",{style:{textAlign:"center"}},decodeURIComponent(r)," ",a.a.createElement(ct,{onClick:g},"clear")):null,n.includes("Searching Subs:")?a.a.createElement("h3",{style:{textAlign:"center"}},a.a.createElement(ct,{onClick:g},"Cancel")):null,b?a.a.createElement("h3",{style:{textAlign:"center"}},a.a.createElement(ct,{onClick:function(){var e=[].concat(Object(h.a)(p),[m]);i({type:"SET_BLOCKED_USERS",payload:e})}},"Block")):null,f?a.a.createElement("h3",{style:{textAlign:"center"}},a.a.createElement(ct,{onClick:function(){var e=p.filter((function(e){return e!==m}));i({type:"SET_BLOCKED_USERS",payload:e})}},"Unblock")):null)};function st(){var e=Object(m.a)(["\n    display: flex;\n    \n    & > button:first-child {\n        padding: 0px;\n        border-right: 1px solid gray;\n        width: 60px;\n        font-size: 1.4em;\n    }\n\n    & > button > svg {\n        position: relative;\n        top: 3px;\n    }\n"]);return st=function(){return e},e}function dt(){var e=Object(m.a)(["\n    border-top: none;\n    border-bottom: 1px solid gray;\n"]);return dt=function(){return e},e}function mt(){var e=Object(m.a)(["\n    width: 250px;\n    border-right: 1px solid red;\n    height: 100%;\n    position: fixed;\n    overflow: scroll;\n"]);return mt=function(){return e},e}var pt=p.a.div(mt()),bt=Object(p.a)(_)(dt()),ft=p.a.div(st()),ht=function(){var e=Object(r.useState)(!1),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)(!1),i=Object(u.a)(c,2),l=i[0],s=i[1],m=Object(d.d)((function(e){return e.currentPostId})),p=Object(d.d)((function(e){return e.currentSub})),f=function(){o(!1),s(!1)};return l?a.a.createElement(pt,null,a.a.createElement(bt,{onClick:f},"Back"),a.a.createElement(de,null)):t?a.a.createElement(pt,null,a.a.createElement(bt,{onClick:f},"Back"),a.a.createElement(z,null)):a.a.createElement(pt,null,a.a.createElement(ft,null,a.a.createElement(bt,{onClick:function(){s(!0)}},a.a.createElement(b.c,null)),a.a.createElement(bt,{onClick:function(){o(!0)}},"Saved Posts")),a.a.createElement(F,null),"user"===p?a.a.createElement(L,null):m.length>0?a.a.createElement(I,null):a.a.createElement(N,null),a.a.createElement(A,null))},gt=function(e){var n=e.location,t=e.history,o=Object(d.c)(),c=Object(r.useState)(0),i=Object(u.a)(c,2),l=i[0],m=i[1],p=Object(d.d)((function(e){return e.posts})),b=Object(d.d)((function(e){return e.currentSort})),f=function(){return o({type:"CLOSE_MENUS"})},h=Object(d.d)((function(e){return e.currentSub})),g=Object(d.d)((function(e){return e.currentPostId})),v=Object(d.d)((function(e){return e.currentUserSort})),E=Object(d.d)((function(e){return e.currentSearch})),O=Object(d.d)((function(e){return e.currentSearchSort})),S=Object(d.d)((function(e){return e.currentSearchSub})),x=Object(d.d)((function(e){return e.searchForSubs})),y=Object(d.d)((function(e){return e.permalinkUrl})),k=Object(d.d)((function(e){return e.showContext})),j=Object(d.d)((function(e){return e.currentUser})),_=function(e){return o({type:"SET_USER",payload:e})},w=Object(s.useMediaQuery)({maxWidth:700}),C=function(e){var n=e.split("/"),t="",r="",a="",o="",c="",i="";return n.length>0&&(t=void 0!==n[1]?n[1]:"",a="comments"===n[2]&&void 0!==n[3]?n[3]:"",r="comments"!==n[2]&&void 0!==n[2]?n[2]:"","comments"===n[2]&&void 0===n[3]&&(r="comments"),"comments"!==n[2]&&void 0===n[2]&&(r="hot"),"user"===n[1]&&void 0!==n[3]&&(o=n[3]),"user"===n[1]&&void 0===n[3]&&(o="overview"),"user"===n[1]&&void 0!==n[2]&&(i=n[2],r=""),void 0!==n[4]&&void 0!==n[5]&&(c=n[4]+"/"+n[5])),{sub:t,newSort:r,postId:a,userSort:o,permalinkUrl:c,user:i}}(n.pathname),T=C.sub,M=C.newSort,U=C.postId,R=C.userSort,A=C.permalinkUrl,N=C.user,L=function(e){var n=(e=e.replace("&amp;","%26")).match(/search=([^&]+)/),t=e.match(/searchSort=(relevance|new)/),r=e.match(/searchSub=(true|false)/),a=e.match(/searchForSubs=(true|false)/);return n=null===n?"":n[1],t=null===t?"relevance":t[1],r=null===r||Se(r[1]),a=null!==a&&Se(a[1]),{search:n=n.replace(/%20/g," ").replace(/%22/g,'"'),searchSort:t,searchSub:r,searchForSubs:a}}(n.search),I=L.search,B=L.searchSort,P=L.searchSub,D=L.searchForSubs,F="?context=10000"===n.search;Object(d.b)((function(){T!==h&&o({type:"SET_SUB",payload:T}),U!==g&&function(e){o({type:"SET_POSTID",payload:e})}(U),R!==v&&function(e){o({type:"SET_USER_SORT",payload:e})}(R),M.length>0&&M!==b&&o({type:"SET_SORT",payload:M}),A!==y&&function(e){o({type:"SET_PERMALINK_URL",payload:e})}(A),F!==k&&function(e){o({type:"SET_SHOW_CONTEXT",payload:e})}(F),N.length>0&&N!==j&&_(N),0===N.length&&M.length>0&&0===U.length&&_(""),U.length>0||g.length>0||(I!==E&&function(e){o({type:"SET_CURRENT_SEARCH",payload:e})}(I),B!==O&&function(e){o({type:"SET_CURRENT_SEARCH_SORT",payload:e})}(B),P!==S&&function(e){o({type:"SET_CURRENT_SEARCH_SUB",payload:e})}(P),D!==x&&function(e){o({type:"SET_SEARCH_FOR_SUBS",payload:e})}(D))})),Object(r.useEffect)((function(){w&&f(),0!==h.length&&(g.length>0&&p.length>0||ye())}),[b,h,j,v,E,O,S,x]),Object(r.useEffect)((function(){0===g.length&&window.scrollTo(0,l),f()}),[g]);var z=Object(r.useCallback)((function(e){return function(n){var r=window.pageYOffset||document.documentElement.scrollTop;m((function(e){return r})),t.push(e)}}),[]);if(T!==h||U!==g||R!==v||M.length>0&&M!==b)return a.a.createElement("div",null);if(0===h.length){var H="",J=localStorage.getItem("subs");return H=(J=J?JSON.parse(J):[]).length>0?J[0]:"Popular",t.push("/".concat(H,"/").concat(b)),a.a.createElement("div",null)}var G=function(){g.length>0?je():ye(!1,!0)},q=function(){var e=h,n="";return x&&(e="Searching Subs: ".concat(E)),E.length>0&&!x&&(n="Searching: ".concat(decodeURI(E))),E.length>0&&!x&&E.includes("flair_name")&&(n="Searching Flair: ".concat(Oe(decodeURI(E.replace("flair_name:",""))))),"user"===h&&(e="".concat(j)),a.a.createElement(a.a.Fragment,null,a.a.createElement(ut,{heading:e,subHeading:n,onReload:G}),w||0!==g.length?null:a.a.createElement(Ue,null),g.length>0?a.a.createElement(at,null):null,a.a.createElement(Un,{onClickLink:z}))};return w?a.a.createElement(Jn,{history:t},a.a.createElement("div",{style:{height:"100%",overflow:"hidden"}},a.a.createElement(Pe,{onBackClick:function(){t.goBack()}}),a.a.createElement("div",{style:{marginTop:"50px"}}),q())):a.a.createElement(Jn,{history:t},a.a.createElement("div",{style:{display:"flex",height:"100%"}},a.a.createElement("div",null,a.a.createElement(ht,null)),a.a.createElement("div",{style:{width:"calc(100% - 250px)",height:"100%",overflow:"scroll",marginLeft:"250px",position:"relative"},id:"mainPage"},q())))},vt=function(){return a.a.createElement(i.a,null,a.a.createElement(l.a,{path:"/",component:gt}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(d.a,{store:he},a.a.createElement(vt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[57,1,2]]]);
//# sourceMappingURL=main.ddf378fb.chunk.js.map